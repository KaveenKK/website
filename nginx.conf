# nginx.conf
server {
  listen 8080;                # Railway sets PORT
  root   /usr/share/nginx/html;  # matches our COPY above
  index  index.html;

  location / {
    # 1) Try the exact URI (“/about” → public/about)
    # 2) Then try URI + “.html” (“/about.html”)
    # 3) Then try a folder index (“/about/index.html”)
    try_files $uri $uri.html $uri/ =404;
  }

  # Optional: redirect old “.html” links to the cleaner URL
  location ~ ^(.+)\.html$ {
    return 301 $1;
  }
}
